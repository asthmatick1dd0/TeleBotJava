# TeleBotJava
 
**TeleBotJava** — это телеграм-бот на Java и SprinBoot с использованием базы данных PostgreSQL.  
Проект собирается через Maven и запускается в Docker-контейнерах.

---

## Содержание

- [Требования](#требования)
- [Запуск через Docker Compose](#запуск-через-docker-compose.yml)
- [Частые проблемы](#частые-проблемы)
- [Команды бота](#команды-бота)
- [Контакты](#контакты)

---

## Требования

- [Docker](https://www.docker.com/get-started) и [Docker Compose](https://docs.docker.com/compose/) (находятся в TeleBotJava/scr/)
- Java 21 (если запускать без Docker)
- Maven 3.9+ (если запускать без Docker)
- Токен Telegram-бота ([создать в @BotFather](https://t.me/botfather))

---


## Запуск через Docker Compose

1. **Отредактируйте переменные окружения**  
   В файле `docker-compose.yml` вы можете изменить:
    - `DB_URL` - ссылка на базу данных
    - `DB_PASSWORD` — пароль базы данных
    - `DB_USER` - пользователь базы данных
    - `BOT_TOKEN` — токен вашего бота
        > В application.properties можно поменять имя бота

2. **Сборка и запуск**
    ```sh
    docker-compose up -d --build
    ```
    - Контейнеры `telebot-postgres` и `telebot-java` будут запущены.
    - Бот автоматически подключится к базе данных.

3. **Проверка работы**
    - Логи бота:
      ```sh
      docker logs telebot-java
      ```
    - Логи базы:
      ```sh
      docker logs telebot-postgres
      ```

4. **Остановка контейнеров**
    ```sh
    docker-compose down
    ```

---

## Частые проблемы

- **Вы не можете подключиться к созданной докером базе данных:**  
  Измените порт в `docker-compose.yml` и подключайтесь к новому порту.
  Дело в том, что он может быть уже зарезервирован другим сервером.
- **Бот не запускается:**  
  Проверьте логи командой `docker logs telebot-java`.
  Возможно mvn не может собраться. Попробуйте `mvn clean` или выключить прокси.

---

## Команды бота

> **Функционал бота.**

- `/start` — приветствие и информация о базовых командах.
- `/form` — заполнение опроса и отправка в базу данных.
- `/report` — генерация .docx отчёта о проведённых опросах.

---

## Контакты

- Автор: [asthmatick1dd0](https://github.com/asthmatick1dd0)

---